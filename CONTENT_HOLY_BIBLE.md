# üìñ THE HOLY BIBLE: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º KGCHO

–°–ª—É—à–∞–π —Å—é–¥–∞. –ï—Å–ª–∏ —Ç—ã –Ω–µ —Ö–æ—á–µ—à—å, —á—Ç–æ–±—ã –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª—Å—è –≤ ¬´–≥–æ–≤–Ω–æ —Å–æ–±–∞—á—å–µ¬ª, —á–∏—Ç–∞–π —ç—Ç–æ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ. –ú—ã –ø–æ—Å—Ç—Ä–æ–∏–ª–∏ —Å–∏—Å—Ç–µ–º—É, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —á–∏—Å—Ç–æ–º —ç–Ω—Ç—É–∑–∏–∞–∑–º–µ –∏ JSON-—Ñ–∞–π–ª–∞—Ö. –≠—Ç–æ God-Tier –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞.

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –ö–∞–∫ –≤—Å—ë –∫—Ä—É—Ç–∏—Ç—Å—è

–í–µ—Å—å –ø—Ä–æ–µ–∫—Ç ‚Äî —ç—Ç–æ **Astro** (–º–æ—Ä–¥–∞) + **Keystatic** (–∞–¥–º–∏–Ω–∫–∞). 

1. **–ú–æ—Ä–¥–∞ (`apps/web`)**: –ë–µ—Ä—ë—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ JSON-—Ñ–∞–π–ª–æ–≤ –≤ `src/content/`.
2. **–ê–¥–º–∏–Ω–∫–∞ (`/keystatic`)**: –ö—Ä–∞—Å–∏–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Å—Ç–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —ç—Ç–∏ —Å–∞–º—ã–µ JSON-—Ñ–∞–π–ª—ã.
3. **–ü—Ä–∞–≤–¥–∞ –∂–∏–∑–Ω–∏**: –í—Å—ë —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Git. –ò–∑–º–µ–Ω–∏–ª –≤ –∞–¥–º–∏–Ω–∫–µ -> —Ñ–∞–π–ª –æ–±–Ω–æ–≤–∏–ª—Å—è -> –∑–∞–∫–æ–º–º–∏—Ç–∏–ª -> –≤—ã–µ–±–Ω—É–ª—Å—è.

---

## üéÆ –í–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –ª–µ–Ω–∏–≤—ã—Ö: Keystatic UI

–ï—Å–ª–∏ —Ç—ã –Ω–µ —Ö–æ—á–µ—à—å –ø–∞—á–∫–∞—Ç—å —Ä—É–∫–∏ –≤ –∫–æ–¥–µ:
1. –ó–∞–ø—É—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç: `pnpm dev`.
2. –ò–¥–∏ –Ω–∞ `http://localhost:5100/keystatic`.
3. –¢–∞–º –≤—Å—ë –∫–∞–∫ –≤ WordPress, —Ç–æ–ª—å–∫–æ –¥–ª—è —É–º–Ω—ã—Ö. –ú–µ–Ω—è–µ—à—å –ø–æ–ª—è, –∂–º—ë—à—å **Save**, –∏ –º–∞–≥–∏—è —Å–ª—É—á–∞–µ—Ç—Å—è.

---

## üõ†Ô∏è –í–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤: –ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å JSON

–ï—Å–ª–∏ —Ç—ã –ª—é–±–∏—à—å —Ö–∞—Ä–¥–∫–æ—Ä, –≤–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç –∂–∏–≤—ë—Ç –∑–¥–µ—Å—å:
- `apps/web/src/content/tournament-settings/index.json` ‚Äî –ì–ª–æ–±–∞–ª—å–Ω—ã–π –∫–∞–ª: –∑–∞–≥–æ–ª–æ–≤–∫–∏, –¥–∞—Ç—ã, –ª–æ–∫–∞—Ü–∏–∏.
- `apps/web/src/content/schedule/index.json` ‚Äî –ö—Ç–æ, –∫–æ–≥–¥–∞ –∏ –∫—É–¥–∞ –±–µ–∂–∏—Ç.
- `apps/web/src/content/shop/index.json` ‚Äî –ú–µ—Ä—á, –∑–∞ –∫–æ—Ç–æ—Ä—ã–π –ª—é–¥–∏ –æ—Ç–¥–∞–¥—É—Ç –¥–µ–Ω—å–≥–∏.
- `apps/web/src/content/partners/index.json` ‚Äî –õ–æ–≥–æ—Ç–∏–ø—ã —Ç–µ—Ö, –∫—Ç–æ —ç—Ç–æ –æ–ø–ª–∞—Ç–∏–ª.
- `apps/web/src/content/contacts/index.json` ‚Äî –ê–¥—Ä–µ—Å–∞, —è–≤–∫–∏, –ø–∞—Ä–æ–ª–∏, —Å–æ—Ü—Å–µ—Ç–∏.
- `apps/web/src/content/media/index.json` ‚Äî –í–∏–¥–æ—Å–∏–∫–∏ –∏ —Ñ–æ—Ç–∫–∏ (–≥–∞–ª–µ—Ä–µ—è).

**–ü—Ä–∞–≤–∏–ª–æ ‚Ññ1**: –í–∏–¥–∏—à—å JSON ‚Äî –Ω–µ –∑–∞–±—É–¥—å –ø—Ä–æ –∑–∞–ø—è—Ç—ã–µ. –ü—Ä–æ–µ–±—ë—à—å –∑–∞–ø—è—Ç—É—é ‚Äî –º–æ—Ä–¥–∞ —É–ø–∞–¥–µ—Ç.

---

## üß¨ –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –ø–æ–ª–µ (–¢—Ä—ë—Ö–≥–ª–∞–≤—ã–π –¥—Ä–∞–∫–æ–Ω)

–ï—Å–ª–∏ —Ç–µ–±–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –ø–æ–ª–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´–¶–≤–µ—Ç –∫–Ω–æ–ø–∫–∏¬ª –∏–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ö–∞—Ä–¥–∫–æ–¥ –∏–∑ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤), —Ç—ã –¥–æ–ª–∂–µ–Ω —Å–¥–µ–ª–∞—Ç—å —Ç—Ä–∏ –≤–µ—â–∏:

1. **–®–∞–≥ 1: Keystatic Config** (`apps/web/keystatic.config.ts`)
   –î–æ–±–∞–≤—å –ø–æ–ª–µ –≤ –Ω—É–∂–Ω—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é (—Å–∏–Ω–≥–ª—Ç–æ–Ω). 
   ```typescript
   // –ü—Ä–∏–º–µ—Ä –¥–ª—è —Å–∏–Ω–≥–ª—Ç–æ–Ω–∞ 'tournamentSettings'
   tournamentSettings: singleton({
     schema: {
       // ... —Å—Ç–∞—Ä—ã–µ –ø–æ–ª—è
       buttonColor: fields.text({ label: '–¶–≤–µ—Ç –∫–Ω–æ–ø–∫–∏', defaultValue: '#ff4d00' })
     }
   })
   ```

2. **–®–∞–≥ 2: Astro Schema** (`apps/web/src/content/config.ts`)
   –û–±–Ω–æ–≤–∏ Zod-—Å—Ö–µ–º—É, –∏–Ω–∞—á–µ Astro –±—É–¥–µ—Ç –Ω—ã—Ç—å –ø—Ä–∏ —Å–±–æ—Ä–∫–µ.
   ```typescript
   const tournamentSettingsCollection = defineCollection({
     schema: z.object({
       // ... —Å—Ç–∞—Ä—ã–µ –ø–æ–ª—è
       buttonColor: z.string().optional()
     })
   });
   ```

3. **–®–∞–≥ 3: –ú–æ—Ä–¥–∞** (`apps/web/src/components/...`)
   –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π –¥–∞–Ω–Ω—ã–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–π –∏—Ö.
   ```astro
   ---
   import tournamentSettings from '../../content/tournament-settings/index.json';
   ---
   <button style={`background: ${tournamentSettings.buttonColor}`}>–ö—É–ø–∏—Ç—å</button>
   ```

---

## üèóÔ∏è –ü—Ä–∏–º–µ—Ä: –ß–∏—Å—Ç–∏–º ¬´–≥–æ–≤–Ω–æ —Å–æ–±–∞—á—å–µ¬ª –≤ –∫–æ–Ω—Ç–∞–∫—Ç–∞—Ö

–°–µ–π—á–∞—Å –≤ `src/components/tournament/ContactsSection.astro` –∞–¥—Ä–µ—Å –∏ —Ç–µ–ª–µ—Ñ–æ–Ω –∑–∞–±–∏—Ç—ã —Ö–∞—Ä–¥–∫–æ–¥–æ–º. –≠—Ç–æ –∫–∞–ª. –ö–∞–∫ —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:

1. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π —Å–∏–Ω–≥–ª—Ç–æ–Ω `contacts` –≤ `keystatic.config.ts`.
2. –û–ø–∏—à–∏ –ø–æ–ª—è: `address`, `phone`, `email`, `vkUrl`, `tgUrl`.
3. –°–æ—Ö—Ä–∞–Ω–∏ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `/keystatic`.
4. –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `ContactsSection.astro` –∑–∞–º–µ–Ω–∏ —Ç–µ–∫—Å—Ç –Ω–∞ `{contacts.address}`.

---

## üñºÔ∏è –ö–∞—Ä—Ç–∏–Ω–∫–∏: –ë–µ–∑ –º—ã–ª–∞ –∏ –∫–∞–ª–∞

–í—Å–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ —Ç—É—Ä–Ω–∏—Ä–∞ –¥–æ–ª–∂–Ω—ã –ª–µ–∂–∞—Ç—å –≤ `apps/web/src/assets/tournament/`.
- **–§–æ—Ä–º–∞—Ç**: –ò—Å–ø–æ–ª—å–∑—É–π PNG/SVG –¥–ª—è –ª–æ–≥–æ—Ç–∏–ø–æ–≤ –∏ WebP/JPG –¥–ª—è —Ñ–æ—Ç–æ.
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: Astro —Å–∞–º –∏—Ö ¬´–ø–µ—Ä–µ–∂—É—ë—Ç¬ª —á–µ—Ä–µ–∑ `astro/components/Image`, —Ç–∞–∫ —á—Ç–æ –Ω–µ –±–æ–π—Å—è –∑–∞ –≤–µ—Å, –Ω–æ –∏ 50–ú–ë —Ñ–æ—Ç–∫–∏ —Å–æ —Å–≤–∞–¥—å–±—ã –±–∞–±—É—à–∫–∏ –Ω–µ –ø–∏—Ö–∞–π.

---

## ü§ñ –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ ¬´–ø–∏–∑–¥–æ—à–∏—Ç—å¬ª –∑–∞–¥–∞—á–∏ –ò–ò (Prompt Engineering)

–ï—Å–ª–∏ —Ç—ã –ø—Ä–æ—Å–∏—à—å Cursor –∏–ª–∏ –¥—Ä—É–≥–æ–π –ò–ò —á—Ç–æ-—Ç–æ –ø–æ–ø—Ä–∞–≤–∏—Ç—å, –Ω–µ –±—É–¥—å ¬´–∫–æ–Ω—ë–º –∫–æ—Å–æ–≥–æ–ª–æ–≤—ã–º¬ª. –î–∞–≤–∞–π —á—ë—Ç–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

### –ü–ª–æ—Ö–æ–π –ø—Ä–æ–º–ø—Ç:
> ¬´–î–æ–±–∞–≤—å –ø–æ–ª–µ —Å –∏–Ω—Å—Ç–∞–≥—Ä–∞–º–æ–º –≤ –∫–æ–Ω—Ç–∞–∫—Ç—ã¬ª

### –•–æ—Ä–æ—à–∏–π –ø—Ä–æ–º–ø—Ç (Gilfoyle Approved):
> ¬´–í –ø—Ä–æ–µ–∫—Ç–µ KGCHO –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `instagramUrl` –≤ —Å–µ–∫—Ü–∏—é –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤. 
> 1. –û–±–Ω–æ–≤–∏ `keystatic.config.ts` (–¥–æ–±–∞–≤—å –ø–æ–ª–µ –≤ —Å–∏–Ω–≥–ª—Ç–æ–Ω –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤).
> 2. –û–±–Ω–æ–≤–∏ —Å—Ö–µ–º—É –≤ `src/content/config.ts`.
> 3. –í—ã–≤–µ–¥–∏ —Å—Å—ã–ª–∫—É –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `src/components/tournament/ContactsSection.astro`.
> –°–¥–µ–ª–∞–π –∫—Ä–∞—Å–∏–≤–æ, –±–µ–∑ –≥–æ–≤–Ω–∞ —Å–æ–±–∞—á—å–µ–≥–æ –≤ —Å—Ç–∏–ª—è—Ö.¬ª

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ `apps-cms`

–£ –Ω–∞—Å –≤ –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å `apps-cms` –Ω–∞ Payload 3.0. –ü–æ–∫–∞ —á—Ç–æ —ç—Ç–æ ¬´–±—ã–∫¬ª –Ω–∞ –±—É–¥—É—â–µ–µ. –ï—Å–ª–∏ —Ç–µ–±–µ –Ω—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å —á—Ç–æ-—Ç–æ —Ä–µ–∞–ª—å–Ω–æ —Ç—è–∂–µ–ª–æ–µ (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –±–∞–∑—É –∏–≥—Ä–æ–∫–æ–≤), —ç—Ç–æ –ø–æ–π–¥—ë—Ç —Ç—É–¥–∞. 
- **–ö–æ–¥**: TypeScript-first.
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: Access Control –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥—É.
- **–ü—Ä–∞–≤–∏–ª–æ**: –ù–µ –ª–µ–∑—å —Ç—É–¥–∞, –µ—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—à—å, —á—Ç–æ —Ç–∞–∫–æ–µ `payload-types.ts`.

---

## üÜò Troubleshooting

- **–û—à–∏–±–∫–∞ "Validation Error"**: –¢—ã –¥–æ–±–∞–≤–∏–ª –ø–æ–ª–µ –≤ JSON, –Ω–æ –Ω–µ –¥–æ–±–∞–≤–∏–ª –µ–≥–æ –≤ `src/content/config.ts`. –ò—Å–ø—Ä–∞–≤—å —Å—Ö–µ–º—É.
- **–ö–∞—Ä—Ç–∏–Ω–∫–∞ –Ω–µ –≥—Ä—É–∑–∏—Ç—Å—è**: –ü—Ä–æ–≤–µ—Ä—å –ø—É—Ç—å. –í Keystatic –ø—É—Ç–∏ –ø–∏—à—É—Ç—Å—è –æ—Ç –∫–æ—Ä–Ω—è –∏–ª–∏ –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏, –≤ Astro –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö ‚Äî —á–µ—Ä–µ–∑ `import`.
- **–í—Å—ë —É–ø–∞–ª–æ**: `rm -rf .astro .next node_modules && pnpm i`. –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ ‚Äî –∑–Ω–∞—á–∏—Ç —Ç—ã —Ä–µ–∞–ª—å–Ω–æ –≥–¥–µ-—Ç–æ –Ω–∞–∫–æ—Å—è—á–∏–ª.

---

**–í—ã–≤–æ–¥**: –ö–æ–Ω—Ç–µ–Ω—Ç ‚Äî —ç—Ç–æ –¥–∞–Ω–Ω—ã–µ. –í–µ—Ä—Å—Ç–∫–∞ ‚Äî —ç—Ç–æ –º–æ—Ä–¥–∞. –ù–µ —Å–º–µ—à–∏–≤–∞–π —ç—Ç–æ –¥–µ—Ä—å–º–æ –∏ –ø—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –∂–∏—Ç—å –≤–µ—á–Ω–æ. –ï–±–æ—à—å.
